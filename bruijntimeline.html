<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>Timeline Jan Anthonie Bruijn</title>
	<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="d3.layout.timeline.js" charset="utf-8" type="text/javascript"></script>
	<style type="text/css">



	</style>
</head>
<body>

	<script type="text/javascript">

		types = ["European","Native","Colonial","Latin America","Internal"];

		colorScale = d3.scale.ordinal()
  		.domain(types)
  		.range(["#96abb1", "#313746", "#b0909d", "#687a97", "#292014"]);


		d3.json("/data/bruijn_cv.json", function(error, dataset) {
  			//console.log(dataset);
  			console.log(d3.max(dataset));
  			var timeline = d3.layout.timeline()
  				.size([500,80])
    			.extent(["1/1/1982", "3/15/2016"])
   				.padding(3)
    			.maxBandHeight(20);

    		types.forEach(function (type, i) {

    		d3.select("svg").append("g")
			  .attr("transform", "translate(100," + (35 + (i * 90)) + ")")
			  .selectAll("rect")
			  .data(dataset)
			  .enter()
			  .append("rect")
			  .attr("rx", 2)
			  .attr("x", function (d) {return d.since})
			  .attr("y", function (d) {return d.y})
			  .attr("height", function (d) {return d.dy})
			  .attr("width", function (d) {return d.until - d.since})
			  .style("stroke", "black")
			  .style("stroke-width", 1);

		  d3.select("svg").append("text")
			  .text(function (d) {return d.name})
			  .attr("y", 50 + (i * 90))
			  .attr("x", 20);
		});
	});

		


</script>

</body>
</html> 
